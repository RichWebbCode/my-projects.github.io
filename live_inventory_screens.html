<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Screens</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header class="header-link">
        <div class="menu-btn" onclick="toggleMenu()">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
        <a href="index.html" class="header-link">
            <img src="website_logo.png" alt="Header Image">
        </a>
    </header>

    <nav id="sidebar">
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="new_product_development.html">New Product Development</a></li>
            <li><a href="live_inventory_screens.html">Live Inventory Screens</a></li>
            <li><a href="automated_prodution_reporting.html">Automated Reporting</a></li>
        </ul>
    </nav>

    <script>
        function toggleMenu() {
            var sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }
    </script>

    <main>
        <div class="project" id="project1">
            <h2>Live Inventory Screens</h2>
            <div class="project-description">
                <p>Brief:</p>
                <p>Create live inventory screens that will link into the stock management system and replace the
                    manually written whiteboard.</p>
                <p>Code and Modules used:
                    Python, HTML, CSS, FastAPI, SharePoint API, Brewman API</p>
            </div>
            <div class="image-container">
                <img src="stock_screen_sp1.png" alt="Live Inventory Screen Small Pack 1">
                <img src="stock_screen_sp2.png" alt="Live Inventory Screen Small Pack 2">
                <img src="stock_screen_cask.png" alt="Live Inventory Screen Cask">
                <img src="stock_screen_keg.png" alt="Live Inventory Screen Keg">
            </div>
            <div class="image-with-text">
                <img src="brewers_board.png" alt="Brewers Board">
                <div class="text-block">
                    <p>Added a Brewers Board, to give the Head Brewer information on where stock is currently located to
                        help with stock takes</p>
                </div>
            </div>
        </div>
        <div class="section-with-image-and-text">
            <div class="image-on-left">
                <img src="" alt="">
            </div>
            <div class="text-on-right">
                <p>Picture this: our sales team staring at a board with a list of products to sell, like it's the 1980s.
                    Every week, our Head Brewer would complete a stock take and scribble the list of available stock on
                    the board. Not only is this a colossal time drain, but it also meant the sales team only got the
                    lowdown on what they had to sell once a week.</p>
                <p>I thought, "Why not use our brewery management software, Brewman, to keep track of stock?" Turns out,
                    Brewman doesn't take a product out of stock until it's received by the customer. This is fantastic
                    for managing returns since stock isn't marked as sold until it's actually in the customer's hands.
                </p>
                <p>This called for some problem-solving wizardry. I was tasked with diving into the API to whip up a
                    solution that would give our sales team a live inventory list.</p>
            </div>
        </div>

        <div class="section-with-text-and-image">
            <div class="text-on-left">
                <p>This was my first project where I had to write my own code from scratch. Gulp.</p>
                <p>It was daunting, to say the least. The last time I coded, I was 8 years old, writing knock-knock
                    jokes in BASIC on my grandad's ancient computer.</p>
                <p>I dug into the API and eventually figured out how to fetch the data using a Python script. Just in
                    time, a new tool called ChatGPT released its Beta online. Early days with ChatGPT were a lifesaver!
                    I could ask the simplest coding questions repeatedly until I finally understood what to do.</p>
                <p>So, I rolled up my sleeves and got to work on my first coding project.</p>
            </div>
            <div class="image-on-right">
                <img src="" alt="">
            </div>
        </div>

        <div class="section-with-image-and-text">
            <div class="image-on-left">
                <img src="" alt="">
            </div>
            <div class="text-on-right">
                <p>I started with some pretty messy code. Looking back at the first iteration, it was unbelievably
                    sloppy and hard to follow. But I kept at it and eventually got a demo running on my computer. It was
                    a basic grid filled with data from the API. It wasn't pretty, but it proved I could build something
                    that could eventually become a functional web app.</p>
                <p>Next, I needed to figure out some logic. My screen was showing a list of stock items and the stock
                    figures as they appeared in Brewman. I hadn't cracked the nut of showing the stock available for
                    sale.</p>
                <p>After sifting through the API, and with some help from my line manager, I found a way to get a list
                    of stock that was currently out for delivery. Beer deliveries can take ages. Sometimes, pallets for
                    a supermarket or wholesaler sit in the back of a lorry at a loading dock over a bank holiday
                    weekend. We might send them off on a Wednesday, but they might not get received until the following
                    Tuesday.</p>
                <p>In a dataframe, I created a column for stock that had left the brewery but was not received. I was
                    about to add in the total of stock sold but still at the brewery when I had an epiphany. Our Head
                    Brewer needed to know how much stock was sitting in the back of vans and lorries during stock takes.
                    I could create another screen for our brewers with information they could use during stock takes.
                    They could start a stock take at the screen, add in all the unreceived stock, and carry on with
                    their stock take. This would give them an accurate count without digging through sales reports to
                    find out what hadn't been received.</p>
                <p>I incorporated this logic into my code, and everything was looking good, except for my messy,
                    first-time code.</p>
            </div>
        </div>

        <div class="section-with-text-and-image">
            <div class="text-on-left">
                <p>At this point in my coding journey, my line manager wanted to incorporate some of my code into his
                    project. He suggested creating a Brewman API library for all future projects.</p>
                <p>I got to work building the library. By this point, my understanding of Python had grown, and my
                    library was shaping up nicely. It was simple, easy to read, and did the job.</p>
                <p>Then, I went back to my stock screens and was horrified by how poorly my code was written. It was
                    nearly impossible to read and maintain. So, I decided to embark on Stock Screens 2.0. A complete
                    rebuild was the only way to incorporate my newly built API library.</p>
            </div>
            <div class="image-on-right">
                <img src="" alt="">
            </div>
        </div>

        <div class="section-with-text-and-image">
            <div class="text-on-left">
                <p>Before long, my 2.0 project was ready for the sales team to check out. They liked the design and
                    functionality but asked for a way to add notes and incoming stock figures to each line.</p>
                <p>I set up two CSV files that I could import using Pandas, directly into the dataframe. I found a
                    report in Brewman with data on products due to be packaged.</p>
                <p>I created an Excel macro to transform the downloaded report into the format needed for my screens.
                </p>
                <p>Using Power Automate, I sent out a weekly email prompting the sales team to click on a URL to
                    download the report, click a link to the macro, and run it. The macro handled everything, saving the
                    file in a SharePoint directory and closing everything down.</p>
                <p>I then created another spreadsheet for adding notes to the screens. The person adding the note just
                    had to write in the product name and put their note next to it.</p>
                <p>My program was scheduled to upload from these spreadsheets every 60 seconds. The screens also updated
                    from the APIs every 60 seconds, giving our sales team a real-time view of available stock.</p>
                <p>A little CSS later, and I had stylised screens organised into different stock types, with
                    colour-coded headers and footers for easy differentiation.</p>
                <p>I used Docker to bundle everything together for the PC running the screens and launched them.
                    Initially, everyone was happy, but then I encountered an error when the program ran for days on end,
                    something I hadn't tested.</p>
                <p>I made some changes to the code and handled some tweak requests. However, I realised I was spending
                    too much time Dockerising containers for each new version. So, I loaded Visual Studio Code onto the
                    PC, loaded each new version of the code, and ran it directly from VSC.</p>
                <p>Once feature requests and tweaks stopped coming in, I intended to Dockerise an updated version. But
                    the sales team liked having the code on a screen; they thought it looked cool, so I left it as it
                    was.</p>
            </div>
            <div class="image-on-right">
                <img src="" alt="">
            </div>
        </div>

        <div class="section-with-text-and-image">
            <div class="text-on-left">
                <p>For future versions, I want to put this into a live website with secure logins. Our sales team isn't
                    always in the brewery, and it would be great if the data was available anywhere. I plan to build a
                    login module that allows users with pre-approved email addresses to create accounts and reset
                    forgotten passwords.</p>
                <p>I also want to build in a feature that allows rows to be collapsed, so users can hide products that
                    are in stock but not for sale, like beer reserved for a particular customer.</p>
                <p>I'll also revisit and automate the process of getting future packaging data, so there's no need for
                    user interaction to keep everything up to date.</p>
            </div>
            <div class="image-on-right">
                <img src="" alt="">
            </div>
        </div>


    </main>

    <footer>
        <p>&copy; 2024 Richard Webb</p>
    </footer>
</body>

</html>